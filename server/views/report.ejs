<% title = 'Top Watched Movies Report'; %>

<div class="container py-5">
    <h2 class="mb-4 text-center">Top Watched Movies</h2>

    <!-- Movie Report List -->
    <ul class="list-group">
        <% for (let i = (currentPage - 1) * limit; i < Math.min(currentPage * limit, totalItems); i++) { %>
            <li class="list-group-item d-flex justify-content-between align-items-center">
                <a href="/movies/details" class="fw-bold text-decoration-none text-dark">
                    Movie Title <%= i + 1 %>
                </a>
                <span class="text-muted">n views</span>
            </li>
        <% } %>
    </ul>

    <!-- Pagination -->
    <div class="mt-4 d-flex justify-content-center">
        <nav>
            <ul class="pagination">
                <% for (let i = 1; i <= totalPages; i++) { %>
                    <li class="page-item <%= i === currentPage ? 'active' : '' %>">
                        <a class="page-link" href="?page=<%= i %>"><%= i %></a>
                    </li>
                <% } %>
            </ul>
        </nav>
    </div>
</div>

<style>
    a {
        text-decoration: none;
    }

    a:hover {
        text-decoration: underline;
    }

    .pagination .page-item.active .page-link {
        background-color: #007bff;
        color: white;
        border-color: #007bff;
    }

    .pagination .page-link {
        color: #007bff;
    }

    .pagination .page-link:hover {
        color: #0056b3;
    }
</style>
